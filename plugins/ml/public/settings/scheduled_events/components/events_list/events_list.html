<div class="events-list">
  <div
    class="kuiVerticalRhythm"
    ng-class="{'kuiControlledTable': showControls}">
    <div ng-if="showControls" class="kuiToolBar">
      <!-- <div class="kuiToolBarSearch">
        <tool-bar-search-box filter="query" on-filter="onQueryChange"></tool-bar-search-box>
      </div> -->

      <div class="kuiToolBarSection">
        <a
          class="kuiButton kuiButton--primary"
          href=""
          aria-label="Create new event"
          tooltip="Create new event"
          tooltip-append-to-body="true"
          ng-click="clickNewEvent()">
          <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-plus"></span>
          New event
        </a>

        <a
          class="kuiButton kuiButton--primary"
          href=""
          aria-label="Import events"
          tooltip="Import events"
          tooltip-append-to-body="true"
          ng-click="clickImportEvents()">
          <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-upload"></span>
          Import events
        </a>
      </div>

      <div class="kuiToolBarSection">
        <tool-bar-pager-text start-item="watchList.pager.startItem" end-item="watchList.pager.endItem" total-items="watchList.pager.totalItems"></tool-bar-pager-text>
        <tool-bar-pager-buttons has-previous-page="watchList.pager.hasPreviousPage" has-next-page="watchList.pager.hasNextPage" on-page-next="watchList.onPageNext"
          on-page-previous="watchList.onPagePrevious"></tool-bar-pager-buttons>
      </div>
    </div>

    <table class="kuiTable" ng-show="events.length">
      <thead>
        <tr>
          <th scope="col" class="kuiTableHeaderCell">
            <sortable-column field="id" on-sort-change="onSortChange" sort-field="sortField" sort-reverse="sortReverse">
              Description
            </sortable-column>
          </th>
          <th scope="col" class="kuiTableHeaderCell">
            <sortable-column field="name" on-sort-change="onSortChange" sort-field="sortField" sort-reverse="sortReverse">
              Start
            </sortable-column>
          </th>
          <th scope="col" class="kuiTableHeaderCell">
            <sortable-column field="watchStatus.state" on-sort-change="onSortChange" sort-field="sortField" sort-reverse="sortReverse">
              End
            </sortable-column>
          </th>
          <th scope="col" class="kuiTableHeaderCell actions-col"></th>
        </tr>
      </thead>

      <tbody>
        <tr ng-repeat="event in events track by $index" class="kuiTableRow" ng-class="{ 'kuiTableRow-isBeingDeleted': event.isBeingDeleted }">

          <td class="kuiTableRowCell">
            <div class="kuiTableRowCell__liner">
              <span>
                {{event.description}}
              </span>
              <span
                ng-if="event.asterisk"
                class="asterisk"
                tooltip='{{asteriskText}}'>*</span>
            </div>
          </td>

          <td class="kuiTableRowCell">
            <div class="kuiTableRowCell__liner">
              <span>
                {{formatTime(event.start_time)}}
              </span>
            </div>
          </td>

          <td class="kuiTableRowCell">
            <div class="kuiTableRowCell__liner">
              <span>
                {{formatTime(event.end_time)}}
              </span>
            </div>
          </td>
          <td class="kuiTableRowCell">
            <div class="kuiTableRowCell__liner">
              <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">
                <a class="kuiMenuButton kuiMenuButton--danger kuiMenuButton--iconText" title="Edit" ng-click="deleteEvent($index)"
                  href="">
                  <span class="kuiMenuButton__icon kuiIcon fa-trash"></span>
                  <span>Delete</span>
                </a>
              </div>
            </div>
          </td>

        </tr>
      </tbody>
    </table>


  </div>
</div>
