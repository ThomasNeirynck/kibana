[[monitoring-kibana]]
== Monitoring Kibana

To monitor Kibana:

. Install {xpack} by running `bin/kibana-plugin install` in the Kibana
installation directory:
+
[source,shell]
----------------------------------------------------------
bin/kibana-plugin install x-pack
----------------------------------------------------------
+
NOTE: The plugin install script requires direct Internet access
to download and install {xpack}. If your Kibana instance doesnâ€™t have
Internet access, <<xpack-installing-offline, manually download and install
{xpack}>>.

. Kibana automatically sends metrics to the Elasticsearch
cluster specified in the `elasticsearch.url`
property in `kibana.yml`, which defaults to `http://localhost:9200`.
+
NOTE: You can set the `xpack.monitoring.elasticsearch.url` in `kibana.yml`
to specify the Elasticsearch cluster that Kibana should _retrieve_ monitoring
data from. This enables you to use a single Kibana instance to search and
visualize data in your production cluster as well as monitor data sent
to a dedicated monitoring cluster.

. Restart Kibana.

. To verify your {monitoring} configuration, point your web browser at your Kibana
host, and select **Monitoring** from the side navigation. Metrics reported from
Kibana should be visible in the Kibana section. When security is
enabled, to view the monitoring dashboards you must log in to Kibana as a user
who has both the `kibana_user` and `monitoring_user` roles. For example:
+
--
[source,js]
--------------------------------------------------
POST /_xpack/security/user/stack-monitor
{
  "password" : "changeme",
  "roles" : [ "kibana_user", "monitoring_user" ]
}
--------------------------------------------------
// CONSOLE

image:monitoring.jpg["Monitoring",link="images/monitoring.jpg"]
--